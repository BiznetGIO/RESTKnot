version : adista 0.0.1

endpoint:
  create:
    knot: knotcreate
    command:
      config_begin:
        sendblock:
          cmd: conf-begin
        receive:
          type: block

      config_set:
        sendblock:
          cmd: conf-set
          section: zone
          item: domain
          data:
            - domain: example.com
            - ip: 69.69.69.69
        receive:
          type: block

      config_commit:
        sendblock:
          cmd: conf-commit
        receive:
          type: block

      config_read:
        sendblock:
          cmd: conf-read
          section: zone
          item: domain

        receive:
          type: block
  delete:
    knot: knotdelete
    command:
      delete_dns:
        sendblock:
          cmd: conf-delete
          data:
            - domain: example.com
        receive:
          type: block

  viewstats:
    knot: knotviewstats
    command:
      view_stats:
        sendblock:
          cmd: stats
        receive:
          type: stats

      zone_stats:
        sendblock:
          cmd: zone-stats
        receive:
          type: stats